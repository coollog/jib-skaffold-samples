<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
</head>

<style>
  html, body {
    height: 100%;
    margin: 0;
    font-family: 'Roboto', sans-serif;
    font-size: 20px;
  }
  #options .option {

  }
  #options .option.selected {
    background: gray;
  }

  #submit.loading {
    opacity: 0.5;
  }
</style>

Which of these technologies do you use?

<div id="options">
  <div class="option">Skaffold</div>
  <div class="option">Jib</div>
  <div class="option">Kubernetes</div>
  <div class="option">None of the above</div>
  <div id="submit">Submit</div>
</div>

<script>
  document.querySelectorAll('.option').forEach((el) => el.addEventListener('click', () => {
    if (el.classList.contains('selected')) {
      el.classList.remove('selected');
    } else {
      el.classList.add('selected');
    }
  }));

  document.querySelector('#submit').addEventListener('click', () => {
    const url = '/vote';

    const votes = {};
    document.querySelectorAll('.option').forEach((el) => {
      if (el.classList.contains('selected')) {
        votes[el.innerHTML] = 1;
      }
    });

    document.querySelector('#submit').classList.add('loading');

    fetch(url, {
      method: 'POST',
      body: JSON.stringify(votes),
      headers: {
        'Content-Type': 'application/json; charset=utf-8'
      },
    }).then((response) => {
      document.querySelector('#submit').classList.remove('loading');
      console.log(response);
      if (!response.ok) {
        console.error('Error:', response.statusText);
      }
    });
  });
</script>
